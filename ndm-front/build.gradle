buildscript {
  repositories {
    maven {
      url "https://plugins.gradle.org/m2/"
    }
    mavenCentral()
  }
  dependencies {
    classpath "com.moowork.gradle:gradle-node-plugin:1.2.0"
  }
}

apply plugin: 'com.moowork.node'

node {
  version = '8.4.0'
  npmVersion = '5.3.0'
  yarnVersion = '1.0.1'

  download = true

  // Set the work directory for unpacking node
  workDir = file("${project.buildDir}/nodejs")

  // Set the work directory for NPM
  npmWorkDir = file("${project.buildDir}/npm")

  // Set the work directory where node_modules should be located
  nodeModulesDir = file("${project.projectDir}")
}


task ndmBuild(type: NpmTask) {
  args = ['run-script', 'build']
}

task ndmStart(type: NpmTask) {
  args = ['run-script', 'start']
}
